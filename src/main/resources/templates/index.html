<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Website</title>
  <style>
    /* Reset some default styles */
    body, h1, h2, p, ul, li {
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
    }

    /* Header Styles */
    .logo img {
      margin-top: 10px;
     margin-left: 20px;
      max-width: 150px;
      height: auto;
    }

    .search-icon img {
      max-width: 90%;
      max-height: 90%;
    }


    .auth-buttons {
      width: 149px;
      height: 25px;
      margin-left: 10px;
      padding: 8px 16px;
      border: none;
      border-radius: 20px;
      background-color: lightsalmon;
      color: white;
      cursor: pointer;
    }
    #profile-text {
      /* 추가된 스타일 */
      display: inline-block;
      margin-left: 40px;
      color: #000;
      font-weight: bold;
    }
    #profile-text:hover  {
      /* 추가된 스타일 */
      display: inline-block;
      margin-left: 40px;
      color: #fff;
      font-weight: bold;
    }
    /* Container Styles */
    .container {
      display: flex;
      margin: 20px;
    }

    main {
      flex: 3;
      padding: 20px;
      background-color: #fff;
    }
    /* Banner Styles */
    .banner img {
      width: 100%;
      height: auto;
      margin-bottom: 20px;
    }

    /* Contest List Styles */
    .section {
      /* 추가된 스타일 */
      flex: 1;
      padding: 20px;
      background-color: lightgray;
    }
    .sections-container {
      margin-left: 200px;
      height: 750px;
      display: flex;
      gap: 30px;
      background-color: #fff;
    }
    .section_in{
      background-color: white;
      height: 650px;
    }
    .section-heading {
      margin-top: 5px;
      text-align: center;
    }


    /* Responsive Styles */
    @media screen and (max-width: 768px) {
      .container {
        flex-direction: column;
      }
    }

    ul {
      list-style-type: none;
      padding: 0px;
      margin: 0px;
      width: 200px;
      background: linen;
      height: 100%;
      overflow: auto;
      position: fixed;
    }

    li a {
      margin-top: 20px;
      text-decoration: none;
      padding: 10px;
      display: block;
      color: #000;
      text-align: center;
      font-weight: bold;
    }

    li a:hover {
      background: lightsalmon;
      color: #fff;
    }

    .cd1 {
      margin-left: 20px;
      height: 100px;
      background-color: linen;
    }
  </style>
  <script>
    // 더미 데이터 예시 (실제로는 서버에서 가져와야 함)
    const dummyPosts = [
      { title: "게시물 1 제목", content: "게시물 1 내용..." },
      { title: "게시물 2 제목", content: "게시물 2 내용..." },
      // ... 더 많은 더미 데이터 ...
    ];
    // 데이터를 가져와서 표시하는 함수
    function fetchPosts() {
      fetch('/posts')
              .then(response => response.json())
              .then(posts => {
                const postList = document.getElementById('post-list');
                posts.forEach(post => {
                  const listItem = document.createElement('li');
                  listItem.innerHTML = `
              <h2>${post.title}</h2>
              <p>${post.content.substring(0, 100)}...</p>
            `;
                  postList.appendChild(listItem);
                });
              })
              .catch(error => console.error('Error fetching posts:', error));
    }

    // 페이지 로드 시 최근 게시물 목록을 가져와서 표시
    window.onload = fetchPosts;

    function logout() {
      let authCookie = getCookie('Authorization');
      console.log(authCookie);
      $.ajax({
        url: 'http://localhost:8080/api/user/logout',
        type: 'POST',
        headers: {
          'Authorization': authCookie
        },
        processData: false,
        contentType: false,
        success: function(response) {

          Cookies.remove('Authorization', {path: '/'}); // 쿠키삭제
          // Cookies.set('Authorization', token, {path: '/', expires: expirationDate});
          // 요청 성공 시 처리할
          alert("로그아웃 성공 !");
          window.location.href = host + '/api/view/user/login';
        },
        error: function(xhr, status, error) {
          console.log(xhr);
          alert("로그아웃 실패 !");
        }
      });
    }

    this.checkCount(req.cookies.connect_time, res);

    exports.checkCount = (connect_time, res) => {
      let today = moment();
      if (connect_time) {
        if (moment(connect_time).isAfter(today, 'day')) {
          res.cookie('connect_time', today.format("YYYY-MM-DD"), {
            maxAge: 60 * 60 * 24 * 1000
          });
          this.connectCount();
        } else {
          often.log('pass');
        }
      } else {
        res.cookie('connect_time', today.format("YYYY-MM-DD"), {
          maxAge: 60 * 60 * 24 * 1000
        });
        this.connectCount();
      }

      //방문자 수 카운팅
      exports.connectCount = () => {
        async function start() {
          //데이터베이스 로직
        }

        start();
      }
      this.checkCount(req.cookies.connect_time, res);

      exports.checkCount = (connect_time, res) => {
        let today = moment();
        if (connect_time) {
          if (moment(connect_time).isAfter(today, 'day')) {
            res.cookie('connect_time', today.format("YYYY-MM-DD"), {
              maxAge: 60 * 60 * 24 * 1000
            });
            this.connectCount();
          } else {
            often.log('pass');
          }
        } else {
          res.cookie('connect_time', today.format("YYYY-MM-DD"), {
            maxAge: 60 * 60 * 24 * 1000
          });
          this.connectCount();
        }


        exports.connectCount = () => {
          async function start() {
            //데이터베이스 로직
          }

          start();
        }
      }
    }
  </script>
</head>
<body>
<header>
  <div class="logo">
  <ul>
    <img src="https://i.postimg.cc/T3KxY0gd/2.png" alt="Logo">
    <li><a class="home" href="#">홈</a></li>
    <li><a href="#">최근 게시글</a></li>
    <li><a href="#">신고된 게시글/댓글 관리</a></li>
    <li><a href="#">공지 및 공모전 관리</a></li>
    <li><a href="#">카테고리 관리</a></li>
    <li><a href="#">유저 관리</a></li>
    <li><a href="#">기타 이용약관</a></li>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div class="auth-buttons">
      <span id="profile-text" href="javascript:logout()">로그아웃</span> </div>
  </ul>
  </div>
  <div class="cd1">
  </div>
</header>

<div class="container">

  <main class="sections-container">
    <div class="section">
      <h3 class="section-heading">일자별 사이트 방문자수</h3>
      <div class="section_in">
      <h1>dd</h1>

    </div>
    </div>
    <div class="section">
      <h3 class="section-heading">신고 게시글/댓글 추이</h3>
      <div class="section_in">
        <h1>dd</h1>
      </div>
    </div>
  </main>
</div>

<!--<footer>-->
<!--  <div id="footer" class="re_text" module="Layout_footer">-->
<!--  <ul>-->
<!--    <li>-->
<!--            <span>-->
<!--                <strong>CS CENTER</strong> <br>-->
<!--                02-2033-0816 <br><br>-->
<!--            </span>-->
<!--      <span>-->
<!--                업무시간   09:00 - 21:00 <br>-->
<!--                점심시간   13:00 - 14:00 <br>-->
<!--                저녁시간   18:00 - 19:00 <br>-->
<!--                휴무일자   토요일,일요일,공휴일-->
<!--            </span>-->
<!--    </li>-->
<!--  </ul>-->
<!--  <ul>-->
<!--    <li>-->
<!--      <p>-->
<!--        회사명 : 주식회사 사리추가 대표 : 조혜연<br>-->
<!--        사업자등록번호 : 000-00-00000 <br>-->
<!--        통신판매업 신고 : 2023-서울강남-2023 <br>-->
<!--        주소 : 02023 서울특별시 스파코구 게더길 4<br>-->
<!--        스파르타코딩클럽4조, 4호<br>-->
<!--        개인정보관리책임자 : 책임안짐 <br>-->
<!--        <br>-->
<!--      </p>-->
<!--    </li>-->
<!--  </ul>-->

<!--  <ul>-->
<!--    <li>-->
<!--      <img src="https://i.postimg.cc/T3KxY0gd/2.png" width="30%"/><br><br>-->
<!--      <p>-->
<!--          &nd는 주식회사 사리추가가 소유하고 있습니다. <br>-->
<!--            &nd에서 사용되는 모든 콘텐츠는 무단복제하여 사용할 수 없으며,<br>-->
<!--            해당 콘텐츠의 소유권은 주식회사 사리추가에 있습니다.<br>-->
<!--            Copyright © 4riplus. All rights reserved.-->
<!--      </p>-->
<!--    </li>-->
<!--  </ul>-->
<!--  </div>-->
<!--</footer>-->
</body>
</html>