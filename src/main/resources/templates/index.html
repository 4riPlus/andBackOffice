<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Website</title>
  <style>
    /* Reset some default styles */
    body, h1, h2, p, ul, li {
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
    }

    /* Header Styles */
    .logo img {
      margin-top: 10px;
     margin-left: 20px;
      max-width: 150px;
      height: auto;
    }


    #profile-text {
      /* 추가된 스타일 */
      display: inline-block;
      margin-left: 40px;
      color: #000;
      font-weight: bold;
    }
    #profile-text:hover  {
      /* 추가된 스타일 */
      display: inline-block;
      margin-left: 40px;
      color: #fff;
      font-weight: bold;
    }
    /* Container Styles */
    .container {
      display: flex;
      margin: 20px;
    }

    main {
      flex: 3;
      padding: 20px;
      background-color: #fff;
    }
    /* Banner Styles */
    .banner img {
      width: 100%;
      height: auto;
      margin-bottom: 20px;
    }
    .search-bar {
      display: flex;
      align-items: center;
    }
    .search-bar input[type="text"] {
      padding: 10px;
      border: 2px solid lightgray;
      border-radius: 20px;
      width: 500px; /* Adjust the width as needed */
    }
    .search-icon {
      margin-left: -40px;
      padding: 8px;
      background-color: white;
      border-radius: 50%;
      cursor: pointer;
      width: 17px;
      height: 17px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .search-icon img {
      max-width: 90%;
      max-height: 90%;
    }
    /* Contest List Styles */
    .section {
      /* 추가된 스타일 */
      flex: 1;
      padding: 5px;
    }
    .sections-container {
      margin-left: 200px;
      height: 750px;
      display: flex;
      gap: 30px;
      background-color: #fff;
    }
    .section_in{
      height: 700px;
    }
    .section-heading {
      margin-top: 1px;
      text-align: center;
    }


    /* Responsive Styles */
    @media screen and (max-width: 768px) {
      .container {
        flex-direction: column;
      }
    }

    ul {
      list-style-type: none;
      padding: 0px;
      margin: 0px;
      width: 200px;
      background: linen;
      height: 100%;
      overflow: auto;
      position: fixed;
    }

    li a {
      margin-top: 20px;
      text-decoration: none;
      padding: 10px;
      display: block;
      color: #000;
      text-align: center;
      font-weight: bold;
    }

    li a:hover {
      background: lightsalmon;
      color: #fff;
    }

    .cd1 {
      margin-left: 20px;
      height: 100px;
      background-color: linen;
    }

    .auth-buttons {
      width: 149px;
      height: 25px;
      margin-left: 10px;
      padding: 8px 16px;
      border: none;
      border-radius: 20px;
      background-color: lightsalmon;
      color: white;
      cursor: pointer;
    }
    .delete-button {
      position: fixed; /* 요소를 화면에 고정 */
      bottom: 50px; /* 아래 여백 조절 */
      right: 50px; /* 오른쪽 여백 조절 */
      z-index: 1; /* 다른 요소 위에 위치하도록 설정 */
      background-color: lightsalmon;
      color: black;
      padding: 10px 20px;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-weight: bold;
    }

    .delete-button:hover {
      color: white;
    }
    /* 자유게시판 CSS */
    .post-wrap {
      margin: 20px;
      padding: 20px;
      background-color: #f5f5f5;
      border-radius: 10px;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    }

    .post-title {
      margin-bottom: 20px;
    }

    .post-title strong {
      font-size: 1.3rem;
    }

    .post-title p {
      margin-top: 5px;
      font-size: 0.8rem;
    }

    .post-list {
      width: 100%;
      border-top: 2px solid #000;
    }

    .post-list > div {
      border-bottom: 1px solid #ddd;
      font-size: 0;
    }

    .post-list > div.top {
      border-bottom: 1px solid #999;
    }

    .post-list > div:last-child {
      border-bottom: 1px solid #000;
    }

    .post-list > div > div {
      display: inline-block;
      padding: 15px 0;
      text-align: center;
      font-size: 0.9rem;
    }

    .post-list > div.top > div {
      font-weight: bold;
    }

    .post-list .num {
      width: 10%;
    }

    .post-list .title {
      width: 50%;
      text-align: left;
    }

    .post-list .top .title {
      text-align: center;
    }

    .post-list .writer {
      width: 10%;
    }

    .post-list .date {
      width: 20%;
    }

    .post-list .count {
      width: 10%;
    }

    .post-btn button {
      margin: 5px;
      float: right;
      border: none;
      border-radius: 6px;
      background-color: lightsalmon;
      color: white;
      cursor: pointer;
    }

    .post-page {
      margin-top : 20px;
      text-align: center;
      font-size: 0;
    }

    .post-page a {
      display: inline-block;
      width: 32px;
      height: 32px;
      box-sizing: border-box;
      vertical-align: middle;
      border: 1px solid #ddd;
      border-radius: 7px;
      border-left: 0;
      line-height: 100%;
    }

    .post-page a.bt {
      padding-top: 10px;
      font-size: 1.0rem;
      letter-spacing: -1px;
    }

    .post-page a.num {
      padding-top: 9px;
      font-size: 0.9rem;
    }

    .post-page a.num.on {
      border-color: #000;
      background: #000;
      color: #fff;
    }

    .post-page a:first-child {
      border-left: 1px solid #ddd;
    }
  </style>
  <script>
    // 자유게시판 페이징 출력
    function showPosts(page, size) {
      if(page <= 0) {
        page = 1;
      }

      $.ajax({
        type: 'GET',
        url: `/api/posts?page=${page}&size=${size}`,
      })
              .done(function (response, status, xhr) {
                let pages = response['totalPages'];

                if(page > pages) {
                  page = pages;
                }

                let html = `
                    <div class="post-wrap">
                      <div class="post-title">
                        <strong>자유게시판</strong>
                        <p>자유로운 정보 공유와 공모전을 위한 커뮤니티입니다.</p>
                      </div>
                      <div class="post-list-wrap">
                          <div class="post-list">
                            <div class="top">
                              <div class="num">번호</div>
                              <div class="title">제목</div>
                              <div class="writer">작성자</div>
                              <div class="date">작성일</div>
                              <div class="count">조회수</div>
                            </div>`;

                let startNum = (page-1) * pageSize;
                response['content'].forEach((post) => {
                  startNum += 1;
                  html += `
                        <div>
                          <div class="num">${startNum}</div>
                          <div class="title"><a href="#">${post.title}</a></div>
                          <div class="writer">${post.writer}</div>
                          <div class="date">${post.modifiedDate}</div>
                          <div class="count">${post.communityPostViews}</div>
                        </div>
                    `;
                });

                html += `
                    </div>
                     <div class="post-btn">
                       <button>글쓰기</button>
                     </div>
                     <div class="post-page">
                        <a onclick="showPosts(1,pageSize)" class="bt first"><<</a>
                        <a onclick="showPosts(${page}-1,pageSize)" class="bt prev"><</a>
                `;

                let startPage = (Math.floor(page / pageBtnSize) * pageBtnSize) + 1;
                let endPage = (startPage + pageBtnSize) <= pages ? (startPage + pageBtnSize) : pages;

                for(let i=startPage;i<=endPage;i++) {
                  if(page === i) {
                    html += `
                            <a onclick="showPosts(${i},pageSize)" class="num on">${i}</a>
                        `;
                  } else {
                    html += `
                            <a onclick="showPosts(${i},pageSize)" class="num">${i}</a>
                        `;
                  }
                }

                html += `
                            <a onclick="showPosts(${page}+1,pageSize)" class="bt first">></a>
                            <a onclick="showPosts(${pages},pageSize)" class="bt prev">>></a>
                          </div>
                      </div>
                    </div>
                `;
                $(".main").empty();
                $(".main").append(html);
              })
              .fail(function(response) {
                alert("자유게시글 조회 실패");
                console.log(response.responseJSON.msg);
              });
    }
    function logout() {
      let authCookie = getCookie('Authorization');
      console.log(authCookie);
      $.ajax({
        url: 'http://localhost:8080/api/users/logout',
        type: 'POST',
        headers: {
          'Authorization': authCookie
        },
        processData: false,
        contentType: false,
        success: function(response) {

          Cookies.remove('Authorization', {path: '/'}); // 쿠키삭제
          // Cookies.set('Authorization', token, {path: '/', expires: expirationDate});
          // 요청 성공 시 처리할
          alert("로그아웃 성공 !");
          window.location.href = host + '/api/view/user/login';
        },
        error: function(xhr, status, error) {
          console.log(xhr);
          alert("로그아웃 실패 !");
        }
      });
    }
    document.addEventListener('DOMContentLoaded', function () {
      const postMenu = document.querySelector('#post');
      const homeMenu = document.querySelector('#home');
      const reportMenu = document.querySelector('#report-post');
      const contestMenu = document.querySelector('#contest');
      const categoryMenu = document.querySelector('#category');
      const userMenu = document.querySelector('#user');
      const etcMenu = document.querySelector('#etc');

      const homeContainer = document.querySelector('.home.container');
      const postContainer = document.querySelector('.post.container');
      const reportContainer = document.querySelector('.report.container');
      const contestContainer = document.querySelector('.contest.container');
      const categoryContainer = document.querySelector('.category.container');
      const userContainer = document.querySelector('.user.container');
      const etcContainer = document.querySelector('.etc.container');

      postMenu.addEventListener('click', function () {
        homeContainer.style.display = 'none';
        postContainer.style.display = 'block';
        reportContainer.style.display = 'none';
        contestContainer.style.display = 'none';
        categoryContainer.style.display = 'none';
        userContainer.style.display = 'none';
        etcContainer.style.display = 'none';
      });

      homeMenu.addEventListener('click', function () {
        homeContainer.style.display = 'block';
        postContainer.style.display = 'none';
        reportContainer.style.display = 'none';
        contestContainer.style.display = 'none';
        categoryContainer.style.display = 'none';
        userContainer.style.display = 'none';
        etcContainer.style.display = 'none';
      });

      reportMenu.addEventListener('click', function () {
        homeContainer.style.display = 'none';
        postContainer.style.display = 'none';
        reportContainer.style.display = 'block';
        contestContainer.style.display = 'none';
        categoryContainer.style.display = 'none'; // 다른 컨테이너 숨기기
        userContainer.style.display = 'none';
        etcContainer.style.display = 'none';
      });

      contestMenu.addEventListener('click', function () {
        homeContainer.style.display = 'none';
        postContainer.style.display = 'none';
        reportContainer.style.display = 'none';
        contestContainer.style.display = 'block';
        categoryContainer.style.display = 'none'; // 다른 컨테이너 숨기기
        userContainer.style.display = 'none';
        etcContainer.style.display = 'none';
      });

      categoryMenu.addEventListener('click', function () {
        homeContainer.style.display = 'none';
        postContainer.style.display = 'none';
        reportContainer.style.display = 'none';
        contestContainer.style.display = 'none';
        categoryContainer.style.display = 'block';
        userContainer.style.display = 'none';
        etcContainer.style.display = 'none';
      });

      userMenu.addEventListener('click', function () {
        homeContainer.style.display = 'none';
        postContainer.style.display = 'none';
        reportContainer.style.display = 'none';
        contestContainer.style.display = 'none';
        categoryContainer.style.display = 'none';
        userContainer.style.display = 'block';
        etcContainer.style.display = 'none';
      });

      etcMenu.addEventListener('click', function () {
        homeContainer.style.display = 'none';
        postContainer.style.display = 'none';
        reportContainer.style.display = 'none';
        contestContainer.style.display = 'none';
        categoryContainer.style.display = 'none';
        userContainer.style.display = 'none';
        etcContainer.style.display = 'block';
      });
    });

    // 삭제 버튼을 클릭했을 때 실행될 함수
    function deletePost() {
      // 이 부분에 게시물 삭제 로직을 추가하세요.
      // 예를 들어, 선택된 게시물을 삭제하는 AJAX 요청 등을 수행할 수 있습니다.
      // 필요한 경우 서버와 통신하여 삭제 작업을 수행하세요.

      // 여기에 실제 삭제 로직을 추가하세요.
      alert("게시물이 삭제되었습니다."); // 임시로 경고창을 띄움
    }
  </script>
    <script src="/js/post.js"></script>
</head>
<body>
<header>
  <div class="logo">
  <ul>
    <img src="https://i.postimg.cc/T3KxY0gd/2.png" alt="Logo">
    <li><a id="home" href="#">홈</a></li>
    <li><a id="post" href="#" onclick="showPosts(1,pageSize)">최근 게시글</a></li>
    <li><a id="report-post" href="#">신고된 게시글/댓글 관리</a></li>
    <li><a id="contest" href="#">공지 및 공모전 관리</a></li>
    <li><a id="category" href="#">카테고리 관리</a></li>
    <li><a id="user" href="#">유저 관리</a></li>
    <li><a id="etc" href="#">기타 이용약관</a></li>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div class="auth-buttons">
      <span id="profile-text" href="javascript:logout()">로그아웃</span> </div>
  </ul>
  </div>
  <div class="cd1">
  </div>
</header>

<div class="home container"style="display: block;">
  <main class="sections-container">
    <div class="section">
      <h2 class="section-heading"><&ND> 최근 방문자 수</h2>
      <div class="section_in">
      <h1>이게된다??</h1>
    </div>
    </div>
    <div class="section">
      <h2 class="section-heading">최근 신고된 게시글 추이</h2>
      <div class="section_in">
        <h1>이게된다??</h1>
      </div>
    </div>
  </main>
</div>

<div class="post container" style="display: none;">
  <main class="sections-container">
    <div class="section">
      <h2 class="section-heading">최근 게시글 전체 조회</h2>
      <div class="section_in">
        <div class="search-bar">
          <input type="text" placeholder="게시물 검색">
          <div class="search-icon">
            <img src="https://i.postimg.cc/MT8tf3Qy/searchmagnifierinterfacesymbol-79894.png" alt="Search Icon">
          </div>
        </div>
        <div class="post-list">
          <!-- 게시글 목록이 여기에 추가될 것입니다. -->
        </div>
        <div class="delete-button">
          <a onclick="deletePost()">삭제</a>
        </div>
      </div>
    </div>
  </main>
</div>

<div class="report container" style="display: none;">
  <main class="sections-container">
    <div class="section">
      <h2 class="section-heading">2</h2>
      <div class="section_in">
        <h1>야호!!</h1>
      </div>
    </div>
    <div class="section">
      <h2 class="section-heading">2</h2>
      <div class="section_in">
        <h1>야호!!</h1>
      </div>
    </div>
  </main>
</div>

<div class="contest container" style="display: none;">
  <main class="sections-container">
    <div class="section">
      <h2 class="section-heading">3</h2>
      <div class="section_in">
        <h1>야호~~~~~~~~~~!!</h1>
      </div>
    </div>
    <div class="section">
      <h2 class="section-heading">3</h2>
      <div class="section_in">
        <h1>야호~~~~~~~~~~!!!!</h1>
      </div>
    </div>
  </main>
</div>

<div class="category container" style="display: none;">
  <main class="sections-container">
    <div class="section">
      <h2 class="section-heading">4</h2>
      <div class="section_in">
        <h1>카테고리 crud</h1>
      </div>
    </div>
    <div class="section">
      <h2 class="section-heading">4</h2>
      <div class="section_in">
        <h1>카테고리 crud</h1>
      </div>
    </div>
  </main>
</div>

<div class="user container" style="display: none;">
  <main class="sections-container">
    <div class="section">
      <h2 class="section-heading">5</h2>
      <div class="section_in">
        <h1>유저 crud</h1>
      </div>
    </div>
    <div class="section">
      <h2 class="section-heading">5</h2>
      <div class="section_in">
        <h1>유저 crud</h1>
      </div>
    </div>
  </main>
</div>

<div class="etc container" style="display: none;">
  <main class="sections-container">
    <div class="section">
      <h2 class="section-heading"><&ND> 기타 이용약관</h2>
      <div class="section_in">
        <div id="footer" class="re_text" module="Layout_footer">

                <h3>제 1장 총칙</h3>
                <br>
                <strong>제 1 조 (목 적)</strong><br>
                이 약관은 주식회사 사리추가(이하 "회사"라고 합니다)가
                주식회사 사리추가 홈페이지(이하 "사이트"라 합니다)를 통해
                제공하는 모든 서비스의 이용조건 및 절차에 관한 사항과
                기타 필요한 사항을 정함을 목적으로 합니다. <br>

                <br>
                <strong>제 2 조 (정 의)</strong><br>
                이 약관에서 사용하는 용어의 정의는 다음과 같습니다.<br>
                1. "이용자"라 함은 사이트에 접속하여 이 약관에 따라 사이트가 제공하는 서비스를 이용하는 회원을 말합니다.<br>
                2. "회원"이라 함은 사이트에 개인정보를 제공하여 회원등록을 한 자로서, 사이트의 정보를 지속적으로 제공받으며, 사이트가 제공하는 서비스를 계속적으로 이용할 수 있는 자를 말합니다.<br>
                3. "비회원"이라 함은 회원에 가입하지 않고 회사 사이트에서 제공하는 서비스를 이용하는 자를 말합니다.<br>

                <br>
                <strong>제 3 조 (약관의 명시와 변경)</strong><br>
                1. 회사는 합리적인 사유가 있는 경우에 이 약관을 개정할 수 있으며, 약관이 개정된 경우에는 적용일자 및 개정사유를 명시하여 현행약관과 함께 사이트의 초기화면에 그 적용일자 7일 이전부터 적용일자 전일까지 이를 공지합니다.<br>
                2. 회사는 약관의 규제등에 관한 법률, 전자거래 기본법, 전자서명법, 정보통신망 이용 촉진등에 관한 법률, 소비자 보호법 등 관련법을 위배하지 않는 범위에서 이 약관을 개정할 수 있습니다.
                3. 회원은 변경된 약관 사항에 동의하지 않으면 서비스 이용을 중단하고 이용계약을 해지할 수 있습니다. <br>

                <br>
                <strong>제 4 조 (약관 외 준칙)</strong><br>
                이 약관에 명시되지 않은 사항이 관계 법령에 규정되어 있을 경우에는 관련 법령 규정에 따릅니다.<br>
          <br>
                 <h3>제 2장 회원가입 및 서비스 이용</h3>
                  <br>
          <strong>제 5 조 (서비스 이용 및 제한)</strong><br>
          1. 회원은 사이트를 회사의 업무상 또는 기술상 특별한 지장이 없는 한 연중무휴, 1일 24시간 이용할 수 있습니다.<br>
          2. 사이트에서 제공하는 서비스 중 일부는 회원에 가입하여 회사에서 인정한 ID와 비밀번호를 통해서만 서비스를 받을 수 있습니다.<br>
          3. 전항의 이용시간은 시스템 등 정기점검/교체 등 회사가 필요한 경우, 회원에게 사전 통지한 후, 제한할 수 있습니다.<br>
          4. 제3항에 의한 서비스 중단의 경우에는 회사는 회원이 회사의 홈페이지에 제출한 전자우편 주소로 개별 통지하거나, 불특정다수 회원에 대하여는 홈페이지 초기화면에 서비스 중단 3일전 게시함으로써 개별 통지에 갈음할 수 있습니다.<br>

          <br>
          <strong>제 6 조 (회원 가입)</strong><br>
          1. 이용자는 회사가 정한 가입 양식에 따라 회원정보를 기입한 후 이 약관에 동의한다는 의사표시를 함으로서 회원 가입을 신청합니다.<br>
          2. 회사는 제 1항과 같이 회원으로 가입할 것을 신청한 이용자 중 다음 각 호에 해당하지 않는 한 회원으로 등록합니다.<br>
          ① 가입 신청자가 이 약관 제 7조 제 3항에 의하여 이전에 회원자격을 상실한 적이 있는 경우. 다만 제 7조 제 3항에 의한 회원자격 상실 후 3년이 경과한 자로서 회사의 회원 재가입 승낙을 얻은 경우에는 예외로 한다.<br>
          ② 모든 가입신청자는 반드시 실명으로 본인의 이름과 전화번호, 이메일을 기입하며, 그러하지 아니한 경우.<br>
          ③ 등록 내용에 허위, 기재누락, 오기가 있는 경우.<br>
          ④ 기타 회원으로 등록하는 것이 회사의 기술상 현저히 지장이 있다고 판단되는 경우.<br>
          3. 회원가입 계약의 성립 시기는 회사의 승낙이 회원에게 도달한 시점으로 합니다.<br>

          <br>
          <strong>제 7조 (회원 탈퇴 및 자격 상실 등)</strong><br>
          1. 회원은 회사에 언제든지 탈퇴를 요청할 수 있으며 회사는 즉시 회원 탈퇴를 처리합니다.<br>
          2. 회사는 회원이 다음 사항에 해당하는 행위를 하였을 경우 사전 통지 없이 사이트이용 계약을 해지할 수 있습니다.<br>
          ①공공 질서 및 미풍 양속에 반하는 경우<br>
          ② 범죄적 행위에 관련되는 경우<br>
          ③ 국익 또는 사회적 공익을 저해할 목적으로 서비스 이용을 계획 또는 실행할 경우<br>
          ④ 타인의 ID 및 비밀번호를 도용한 경우<br>
          ⑤ 타인의 명예를 손상시키거나 불이익을 주는 경우<br>
          ⑥ 같은 사용자가 다른 ID로 이중 등록을 한 경우<br>
          ⑦ 서비스에 위해를 가하는 등 건전한 이용을 저해하는 경우<br>
          ⑧ 기타 관련 법령이나 회사가 정한 이용조건에 위배되는 경우<br>
          3. 회사가 회원 자격을 상실시키는 경우에는 회원 등록을 말소 합니다.<br>
          이 경우 회원에게 이를 통지하고 회원 등록 말소 전에 소명할 기회를 부여합니다.<br>
          단, 회원에게 이 통지가 도달한 날로부터 7일 이내에 전자우편 등을 통해 회사에 소명 해야 합니다.<br>
          <br>
          <h3>제 3장 의무</h3>
          <br>
          <strong>제 8조 (개인정보 보호)</strong><br>
          1. 회사는 이용자의 정보 수집 시 서비스 제공 이행에 필요한 최소한의 정보를 수집합니다.<br>
          2. 회사가 이용자의 개인 식별이 가능한 개인정보를 수집하는 때에는 반드시 당해 이용자의 동의를 받습니다.<br>
          3. 제공된 개인정보는 이용자의 동의 없이 목적 외의 이용이나 제 3자에게 제공할 수 없으며 이에 대한 모든 책임은 회사가 집니다.<br>
          <br>
          Copyright © 4riplus. All rights reserved.
          <br>
          <br>
          <br>
          <br>
        </div>
      </div>
    </div>
  </main>
</div>

</body>
</html>